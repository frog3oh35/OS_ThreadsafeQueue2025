✔️ 오늘 공부한 것 정리...

✔️ 250607
- 오늘 목표 : nalloc(), nfree(), nclone() 연습하고 enqueue 가능하면 ㄱㄱ

--------------------------------------------------

* qtype.h
-> struct Item 부분 수정 (과제 공지)

--------------------------------------------------

1. 깊은 복사 vs 얕은 복사 

* deep copy : 새 메모리 공간을 만들고, 데이터도 복사
* shallow copy : 포인터만 복사. 실제 데이터는 공유

포인터만 복사해서 같은 객체를 가리키는지
vs
새로운 객체를 만들어 내부 데이터까지 복사하는지

--------------------------------------------------

2. nalloc()의 기능

Node 한 개를 새로 만들고!
그 안에 들어갈 Item을 깊은 복사해서 담고
next는 비워놓은 채로
최종적으로 Node* 반환
= 새 노드 하나 만들어서 그 메모리 주소를 돌려주는 함수

malloc(sizeof(Node))	노드 자체 공간 할당
malloc(item.value_size)	value는 포인터. 실제 데이터 복사를 위한 별도 공간 필요
memcpy()				원본 데이터 복사 (deep copy)
node->next = NULL		초기화 

--------------------------------------------------

3. nfree()의 기능
nalloc()으로 만든 Node를 메모리에서 안전하게 해제하는 녀석

item.value()는 deep copy된 동적 메모리 (malloc으로 만들었음)
직접 free()로 해제해야 함
아니면!!! memory leak 생김 -> 시스템 성능 망가짐

--------------------------------------------------

4. nclone()의 기능
어떤 노드를 하나 받아서, 그 안에 들어 있는 데이터(item)을
완전 똑같이 복사, 새로운 노드를 하나 더 만들어주는 함수

--------------------------------------------------

5. nalloc이랑 nclone이랑 거의 같은거 아닌가
nalloc() : Item 재료를 받아서 새 Node를 새로 만들기
nclone() : 기존 Node를 통째로 복제해서 새 Node 만들기

새 문서 만들고 직접 입력 vs Ctrl + C + V 느낌...?

--------------------------------------------------

✔️ nalloc(), nfree(), nclone() 구현
